# Asset Trigger

Updates the properties or trigger functionalities of a fungible token, NFT collection or a single NFT.

**The required parameters will depend on the trigger type. Trigger Type and AssetID are required in all of them.**

## Trigger Types:
List with all trigger types values and its required payload fields. You can see more info about each field [here](https://klever.gitbook.io/kleverchain-sdk/contract-details/asset-trigger#payload-parameters). Any parameter you send beyond the required ones will be ignored.

|   ID   |     Type     |                   Description                   |     Parameters     |
|-------|--------------|-------------------------------------------------|--------------------|
|   0    |     Mint     | Directly mint assets in the receiver, amount   | target account      |
|   1    |     Burn     | Directly burn owned assets                      | amount             |
|   2    |     Wipe     | Directly burn assets of the target account (asset owner only). Useful mostly for stable coins | receiver, amount |
|   3    |     Pause    | Pauses all transactions of the target asset     | -                  |
|   4    |    Resume    | Resumes all transactions of the target asset    | -                  |
|   5    | ChangeOwner  | Changes the asset owner                        | receiver           |
|   6    |    AddRole   | Add a permission role to the asset              | role               |
|   7    |  RemoveRole  | Remove a permission role of the asset           | receiver           |
|   8    |   UpdateMetadata | Update the metadata of a given NFT  | mime, receiver (you may want to send transaction as well) |
|   9    |   StopNFTMint   | Stop all NFT mints for that asset (forever) | - |
|   10   |   UpdateLogo     | Updates the asset's logo            | logo URI                |
|   11   |   UpdateURIs     | Update the stored relevant URIs     | uris URIs                |
|   12   | ChangeRoyaltiesReceiver | Changes the address that receives royalties | receiver |
|   13   |   UpdateStaking  | Update staking params                | staking                 |
|   14   |  UpdateRoyalties | Update royalties params              | royalties               |
|   15   | UpdateKDAFeePool | Update KDA pool params              | kdaPool                |
|   16   | StopRoyaltiesChange | Stop royalties changes from the asset |
|   17   | StopNFTMetadataChange | Stop Metadata changes for a given NFT |


## Payload Parameters

|  Required  |      Parameter      |       Type       |               Description                |
|:----------:|---------------------|------------------|------------------------------------------|
|   &#9744;  |     triggerType     |      number      | Sets the trigger type (check list below) |
|   &#9744;  |      assetId        |      string      | Target Asset                             |
|   &#9744;  |      receiver       |      string      | Target address for transaction           |
|   &#9744;  |       amount        |      number      | Amount (with precision)                  |
|   &#9744;  |        uris         |      string      | Ex: {"foo": { [key: string]: "http://bar.com" }} |
|   &#9744;  |        logo         |      string      | Logo image URL                           |
|   &#9744;  |     The nature and    |          mime           | format of the metadata                  |
|   &#9744;  |        Role for       |          role           | Add/Remove role                          |
|   &#9744;  |       Role types      |   Role object array     | Used for updating staking                |
|   &#9744;  |       staking         |        Staking object   | Staking params                           |
|   &#9744;  |       royalties       |     Royalties object    | Used for updating royalties              |
|   &#9744;  |       kdaPool         |      KDAPool object     | KDAPool params                           |


## Royalties structure
|  Required  |       Parameter       |           Type           |               Description                |
|:----------:|-----------------------|-------------------------|------------------------------------------|
|   &#9744;  |       address         |         string          | Royalty receiver address                |
|   &#9744;  | transferPercentage    | RoyaltyInfo object array | Transfer fee for fungible tokens (precision 2) |
|   &#9744;  |    transferFixed     |         number          | Transfer fee for non-fungible tokens    |
|   &#9744;  | marketPercentage      |         number          | Market percentage fee details for non-fungible tokens (precision 2) |
|   &#9744;  |    marketFixed       |         number          | Market fixed fee for non-fungible tokens |
|   &#9744;  |    itoPercentage     |         number          | ITO percentage fee (precision 2)        |
|   &#9744;  |       itoFixed       |         number          | ITO fixed fee (in the currency asset precision) |
|   &#9744;  |  splitRoyalties      | {[address:string]: RoyaltySplitInfo} | Defines the percentage of the fees when multiple addresses receive royalties |

## RoyaltySplitInfo structure
|  Required  |       Parameter       |           Type           |               Description                |
|:----------:|-----------------------|-------------------------|------------------------------------------|
|   &#9744;  | percentTransferPercentage |         number        | Percentage that the given address will receive from transfer percentage (precision 2) |
|   &#9744;  | percentTransferFixed   |         number          | Percentage that the given address will receive from transfer fixed (precision 2) |
|   &#9744;  | percentMarketPercentage |         number          | Percentage that the given address will receive from market percentage (precision 2) |
|   &#9744;  | percentMarketFixed     |         number          | Percentage that the given address will receive from market fixed (precision 2) |
|   &#9744;  | percentITOPercentage   |         number          | Percentage that the given address will receive from ito percentage (precision 2) |
|   &#9744;  | percentITOFixed       |         number          | Percentage that the given address will receive from ito fixed (precision 2) |

## RoyaltyInfo structure
|  Required  |       Parameter       |           Type           |               Description                |
|:----------:|-----------------------|-------------------------|------------------------------------------|
|   &#9744;  |       amount          |         number          | Max amount for that percentage           |
|   &#9744;  |    percentage         |         number          | Fee % (precision 2)                     |


## KDAPool
|  Required  |    Parameter     |    Type    |           Description                |
|:----------:|------------------|------------|--------------------------------------|
|   &#9744;  |       kda        |   string   | Target Asset                         |
|   &#9744;  |      active      |  boolean   | True if the pooling should be active |
|   &#9744;  |  adminAddress    |   string   | Admin Address                        |
|   &#9744;  |    fRatioKLV     |   number   | Fixed ratio for KLV                  |
|   &#9744;  |    fRatioKDA     |   number   | Fixed ratio for KDA                  |

Fixed Ratio calculation:

## Role Structure
List with all role values
|  Required  |       Parameter           |    Type    |               Description                |
|:----------:|---------------------------|------------|------------------------------------------|
|   &#9744;  |         address           |   string   | Target Address                           |
|   &#9744;  |       hasRoleMint         |  boolean   | Should be able to mint?                  |
|   &#9744;  | hasRoleSetITOPrices       |  boolean   | Should be able to set ITO prices?        |


## Staking Structure
|  Required  |        Parameter        |    Type    |               Description                |
|:----------:|--------------------------|------------|------------------------------------------|
|   &#9744;  |      interestType        |   number   | 0: APR, 1: FPR                           |
|   &#9744;  |           apr            |   number   | Percentage                               |
|   &#9744;  |    minEpochsToClaim      |   number   | Minimum epochs to claim rewards         |
|   &#9744;  |  minEpochsToUnstake      |   number   | Minimum epochs to unstake                |
|   &#9744;  | minEpochsToWithdraw      |   number   | Minimum epochs to withdraw after unstake |
